var sfn_ajax_search=null;jQuery(document).ready(function(c){(sfn_ajax_search=c().select2?function(){c(".sfn-product-search").filter(":not(.enhanced)").each(function(){var t={allowClear:!!c(this).data("allow_clear"),placeholder:c(this).data("placeholder"),minimumInputLength:c(this).data("minimum_input_length")?c(this).data("minimum_input_length"):"3",escapeMarkup:function(t){return t},ajax:{url:ajaxurl,dataType:"json",quietMillis:250,data:function(t,a){return{term:sfn_product_search.bwc?t:t.term,action:c(this).data("action")||"woocommerce_json_search_products_and_variations",security:sfn_product_search.security}},processResults:function(t,a){var e=[];return t&&c.each(t,function(t,a){e.push({id:t,text:a})}),{results:e}},cache:!0}};sfn_product_search.bwc&&(t.multiple=!!c(this).data("multiple"),t.ajax.results=t.ajax.processResults,!0===c(this).data("multiple")?(t.initSelection=function(t,a){var e=c.parseJSON(t.attr("data-selected")),n=[];return c(t.val().split(",")).each(function(t,a){n.push({id:a,text:e[a]})}),a(n)},t.formatSelection=function(t){return'<div class="selected-option" data-id="'+t.id+'">'+t.text+"</div>"}):t.initSelection=function(t,a){return a({id:t.val(),text:t.attr("data-selected")})}),c(this).select2(t).addClass("enhanced")})}:function(){c(".sfn-product-search").filter(":not(.enhanced)").each(function(){c(this).ajaxChosen({method:"GET",url:ajaxurl,dataType:"json",afterTypeDelay:100,data:{action:"woocommerce_json_search_products_and_variations",security:sfn_product_search.security}},function(t){var e={};return jQuery.each(t,function(t,a){e[t]=a}),e}).addClass("enhanced")})})()});
