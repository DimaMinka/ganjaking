/**
 * frontend.js
 *
 * @author Your Inspiration Themes
 * @package YITH WooCommerce Frequently Bought Together Premium
 * @version 1.0.0
 */
jQuery(document).ready(function(t){"use strict";var i=function(i,o,a){var n=i.find(".yith-wfbt-items input"),e=[],r=[];n.each(function(i){e[i]=this.value,t(this).is(":checked")||r.push(this.value)}),i.block({message:null,overlayCSS:{background:"#fff url("+yith_wfbt.loader+") no-repeat center",opacity:.6}}),t.ajax({type:"post",url:yith_wfbt.ajaxurl.toString().replace("%%endpoint%%",yith_wfbt.refreshForm),data:{action:yith_wfbt.refreshForm,product_id:i.find('input[name="yith-wfbt-main-product"]').val(),variation_id:a,group:e,unchecked:r,context:"frontend"},dataType:"html",success:function(t){o.replaceWith(t)},complete:function(){i.unblock(),t(document).trigger("yith_wfbt_form_updated",[i])}})};t(document).on("change",".yith-wfbt-items input",function(){t(this).closest(".yith-wfbt-item").hasClass("choise-variation");i(t(this).closest(".yith-wfbt-form"),t(this).closest(".yith-wfbt-section"),0)}),t("form.variations_form.cart").on("show_variation",function(o,a){a.is_in_stock&&i(t(".yith-wfbt-form"),t(".yith-wfbt-section"),a.variation_id)});var o=t(document).find(".yith-wfbt-products-list"),a=o.next(".yith-wfbt-slider-nav");o.length&&(o.owlCarousel({loop:!0,dots:!1,responsive:{0:{items:2},480:{items:3},768:{items:yith_wfbt.visible_elem}}}),a.length&&(a.find(".yith-wfbt-nav-prev").click(function(){o.trigger("prev.owl.carousel")}),a.find(".yith-wfbt-nav-next").click(function(){o.trigger("next.owl.carousel")}))),t(document).on("click",".yith-wfbt-open-modal",function(i){i.preventDefault();var o=t(this).data("product_id"),a=t(".yith-wfbt-form"),e=t("#yith-wfbt-modal");a.block({message:null,overlayCSS:{background:"#fff url("+yith_wfbt.loader+") no-repeat center",opacity:.6}}),t.ajax({type:"post",url:yith_wfbt.ajaxurl.toString().replace("%%endpoint%%",yith_wfbt.loadVariationsDialog),data:{action:yith_wfbt.loadVariationsDialog,product_id:o,context:"frontend"},dataType:"html",success:function(t){e.html(t),a.unblock(),e.modal(),n()},complete:function(){t(document).trigger("yith_wfbt_modal_opened",[a])}})});var n=function(){t(".variations_form").each(function(){t(this).wc_variation_form()}),t(".variations_form.cart").on("found_variation",function(i,o){t('input[name="yith-wfbt-variation-id"]').val(o.variation_id),o.availability_html&&t(".yith-wfbt-stock-status").html(o.availability_html),o.is_purchasable&&o.is_in_stock&&o.variation_is_visible?t("#yith-wfbt-submit-variation").prop("disabled",!1):t("#yith-wfbt-submit-variation").prop("disabled",!0)}),t(".variations_form.cart").on("click",".reset_variations",function(i){t(".yith-wfbt-stock-status").html(""),t("#yith-wfbt-submit-variation").prop("disabled",!0)})};t(document).on("click","#yith-wfbt-submit-variation",function(o){var a=t('input[name="yith-wfbt-variation-id"]').val(),n=t('input[name="yith-wfbt-main-product-id"]').val(),e=t(".yith-wfbt-form");t.modal.close(),e.find("input[data-variable_product_id="+n+"]").prop("disabled",!1).prop("checked",!0).val(a),t("#yith-wfbt-modal").remove(),i(e,t(".yith-wfbt-section"),0)})});