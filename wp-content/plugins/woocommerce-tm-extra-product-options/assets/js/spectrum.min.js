!function(t){"use strict";function e(t){return!!V.CSS_UNIT.exec(t)}function r(t){return parseInt(t,16)}function a(t){return r(t)/255}function n(t){var e,n=!1;if(t=t.replace(q,"").replace(E,"").toLowerCase(),$[t])t=$[t],n=!0;else if("transparent"===t)return{r:0,g:0,b:0,a:0,format:"name"};return(e=V.rgb.exec(t))?{r:e[1],g:e[2],b:e[3]}:(e=V.rgba.exec(t))?{r:e[1],g:e[2],b:e[3],a:e[4]}:(e=V.hsl.exec(t))?{h:e[1],s:e[2],l:e[3]}:(e=V.hsla.exec(t))?{h:e[1],s:e[2],l:e[3],a:e[4]}:(e=V.hsv.exec(t))?{h:e[1],s:e[2],v:e[3]}:(e=V.hsva.exec(t))?{h:e[1],s:e[2],v:e[3],a:e[4]}:(e=V.hex8.exec(t))?{r:r(e[1]),g:r(e[2]),b:r(e[3]),a:a(e[4]),format:n?"name":"hex8"}:(e=V.hex6.exec(t))?{r:r(e[1]),g:r(e[2]),b:r(e[3]),format:n?"name":"hex"}:(e=V.hex4.exec(t))?{r:r(e[1]+""+e[1]),g:r(e[2]+""+e[2]),b:r(e[3]+""+e[3]),a:a(e[4]+""+e[4]),format:n?"name":"hex8"}:!!(e=V.hex3.exec(t))&&{r:r(e[1]+""+e[1]),g:r(e[2]+""+e[2]),b:r(e[3]+""+e[3]),format:n?"name":"hex"}}function i(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==r&&"large"!==r&&(r="small"),{level:e,size:r}}function o(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function s(t){return"string"==typeof t&&-1!==t.indexOf("%")}function l(t){return"string"==typeof t&&-1!==t.indexOf(".")&&1===parseFloat(t)}function c(e,r){var a;return l(e)&&(e="100%"),a=s(e),e=D(r,L(0,parseFloat(e))),a&&(e=parseInt(e*r,10)/100),t.abs(e-r)<1e-6?1:e%r/parseFloat(r)}function f(t){return D(1,L(0,t))}function u(t){return 1===t.length?"0"+t:""+t}function h(t){return t<=1&&(t=100*t+"%"),t}function d(e){return t.round(255*parseFloat(e)).toString(16)}function p(t,e,r){return{r:255*c(t,255),g:255*c(e,255),b:255*c(r,255)}}function g(t,e,r){var a,n,i,o,s,l;if(t=c(t,255),e=c(e,255),r=c(r,255),a=L(t,e,r),n=D(t,e,r),s=(a+n)/2,a===n)i=o=0;else{switch(l=a-n,o=s>.5?l/(2-a-n):l/(a+n),a){case t:i=(e-r)/l+(e<r?6:0);break;case e:i=(r-t)/l+2;break;case r:i=(t-e)/l+4}i/=6}return{h:i,s:o,l:s}}function b(t,e,r){function a(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+6*(e-t)*r:r<.5?e:r<2/3?t+(e-t)*(2/3-r)*6:t}var n,i,o,s,l;return t=c(t,360),e=c(e,100),r=c(r,100),0===e?n=i=o=r:(n=a(l=2*r-(s=r<.5?r*(1+e):r+e-r*e),s,t+1/3),i=a(l,s,t),o=a(l,s,t-1/3)),{r:255*n,g:255*i,b:255*o}}function m(t,e,r){var a,n,i,o,s,l;if(t=c(t,255),e=c(e,255),r=c(r,255),a=L(t,e,r),n=D(t,e,r),s=a,l=a-n,o=0===a?0:l/a,a===n)i=0;else{switch(a){case t:i=(e-r)/l+(e<r?6:0);break;case e:i=(r-t)/l+2;break;case r:i=(t-e)/l+4}i/=6}return{h:i,s:o,v:s}}function v(e,r,a){var n,i,o,s,l,f,u,h,d;return e=6*c(e,360),r=c(r,100),a=c(a,100),n=t.floor(e),i=e-n,o=a*(1-r),s=a*(1-i*r),l=a*(1-(1-i)*r),f=n%6,u=[a,s,o,o,l,a][f],h=[l,a,a,s,o,o][f],d=[o,o,l,a,a,s][f],{r:255*u,g:255*h,b:255*d}}function w(t,e,r,a){var n=[u(z(t).toString(16)),u(z(e).toString(16)),u(z(r).toString(16))];return a&&n[0].charAt(0)===n[0].charAt(1)&&n[1].charAt(0)===n[1].charAt(1)&&n[2].charAt(0)===n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function y(t,e,r,a,n){var i=[u(z(t).toString(16)),u(z(e).toString(16)),u(z(r).toString(16)),u(d(a))];return n&&i[0].charAt(0)===i[0].charAt(1)&&i[1].charAt(0)===i[1].charAt(1)&&i[2].charAt(0)===i[2].charAt(1)&&i[3].charAt(0)===i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function _(t,e,r,a){return[u(d(a)),u(z(t).toString(16)),u(z(e).toString(16)),u(z(r).toString(16))].join("")}function x(t){var r={r:0,g:0,b:0},a=1,i=null,s=null,l=null,c=!1,f=!1;return"string"==typeof t&&(t=n(t)),"object"==typeof t&&(e(t.r)&&e(t.g)&&e(t.b)?(r=p(t.r,t.g,t.b),c=!0,f="%"===String(t.r).substr(-1)?"prgb":"rgb"):e(t.h)&&e(t.s)&&e(t.v)?(i=h(t.s),s=h(t.v),r=v(t.h,i,s),c=!0,f="hsv"):e(t.h)&&e(t.s)&&e(t.l)&&(i=h(t.s),l=h(t.l),r=b(t.h,i,l),c=!0,f="hsl"),t.hasOwnProperty("a")&&(a=t.a)),a=o(a),{ok:c,format:t.format||f,r:D(255,L(r.r,0)),g:D(255,L(r.g,0)),b:D(255,L(r.b,0)),a:a}}function k(t,e){var r;return t=t||"",e=e||{},t instanceof k?t:this instanceof k?(r=x(t),this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=z(100*this._a)/100,e.format?this._format=e.format:this._format=r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=z(this._r)),this._g<1&&(this._g=z(this._g)),this._b<1&&(this._b=z(this._b)),this._ok=r.ok,I+=1,void(this._tc_id=I)):new k(t,e)}function A(t,e){return new k(t,e)}function S(t,e){var r;return e=0===e?0:e||10,r=A(t).toHsl(),r.s-=e/100,r.s=f(r.s),A(r)}function C(t,e){var r;return e=0===e?0:e||10,r=A(t).toHsl(),r.s+=e/100,r.s=f(r.s),A(r)}function P(t){return A(t).desaturate(100)}function F(t,e){var r;return e=0===e?0:e||10,r=A(t).toHsl(),r.l+=e/100,r.l=f(r.l),A(r)}function R(t,e){var r;return e=0===e?0:e||10,r=A(t).toRgb(),r.r=L(0,D(255,r.r-z(-e/100*255))),r.g=L(0,D(255,r.g-z(-e/100*255))),r.b=L(0,D(255,r.b-z(-e/100*255))),A(r)}function H(t,e){var r;return e=0===e?0:e||10,r=A(t).toHsl(),r.l-=e/100,r.l=f(r.l),A(r)}function T(t,e){var r=A(t).toHsl(),a=(r.h+e)%360;return r.h=a<0?360+a:a,A(r)}function M(t){var e=A(t).toHsl();return e.h=(e.h+180)%360,A(e)}function N(t){var e=A(t).toHsl(),r=e.h;return[A(t),A({h:(r+120)%360,s:e.s,l:e.l}),A({h:(r+240)%360,s:e.s,l:e.l})]}function O(t){var e=A(t).toHsl(),r=e.h;return[A(t),A({h:(r+90)%360,s:e.s,l:e.l}),A({h:(r+180)%360,s:e.s,l:e.l}),A({h:(r+270)%360,s:e.s,l:e.l})]}function j(t){var e=A(t).toHsl(),r=e.h;return[A(t),A({h:(r+72)%360,s:e.s,l:e.l}),A({h:(r+216)%360,s:e.s,l:e.l})]}var q=/^\s+/,E=/\s+$/,I=0,z=t.round,D=t.min,L=t.max,B=t.random,$={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},K=function(t){var e,r={};for(e in t)t.hasOwnProperty(e)&&(r[t[e]]=e);return r}($),V=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();k.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var e,r,a,n,i,o,s=this.toRgb();return e=s.r/255,r=s.g/255,a=s.b/255,n=e<=.03928?e/12.92:t.pow((e+.055)/1.055,2.4),i=r<=.03928?r/12.92:t.pow((r+.055)/1.055,2.4),o=a<=.03928?a/12.92:t.pow((a+.055)/1.055,2.4),.2126*n+.7152*i+.0722*o},setAlpha:function(t){return this._a=o(t),this._roundA=z(100*this._a)/100,this},toHsv:function(){var t=m(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=m(this._r,this._g,this._b),e=z(360*t.h),r=z(100*t.s),a=z(100*t.v);return 1===this._a?"hsv("+e+", "+r+"%, "+a+"%)":"hsva("+e+", "+r+"%, "+a+"%, "+this._roundA+")"},toHsl:function(){var t=g(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=g(this._r,this._g,this._b),e=z(360*t.h),r=z(100*t.s),a=z(100*t.l);return 1===this._a?"hsl("+e+", "+r+"%, "+a+"%)":"hsla("+e+", "+r+"%, "+a+"%, "+this._roundA+")"},toHex:function(t){return w(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return y(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:z(this._r),g:z(this._g),b:z(this._b),a:this._a}},toRgbString:function(){return 1===this._a?"rgb("+z(this._r)+", "+z(this._g)+", "+z(this._b)+")":"rgba("+z(this._r)+", "+z(this._g)+", "+z(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:z(100*c(this._r,255))+"%",g:z(100*c(this._g,255))+"%",b:z(100*c(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1===this._a?"rgb("+z(100*c(this._r,255))+"%, "+z(100*c(this._g,255))+"%, "+z(100*c(this._b,255))+"%)":"rgba("+z(100*c(this._r,255))+"%, "+z(100*c(this._g,255))+"%, "+z(100*c(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(K[w(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e,r="#"+_(this._r,this._g,this._b,this._a),a=r,n=this._gradientType?"GradientType = 1, ":"";return t&&(a="#"+_((e=A(t))._r,e._g,e._b,e._a)),"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+r+",endColorstr="+a+")"},toString:function(t){var e,r,a=!!t;return t=t||this._format,e=!1,r=this._a<1&&this._a>=0,a||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(e=this.toRgbString()),"prgb"===t&&(e=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(e=this.toHexString()),"hex3"===t&&(e=this.toHexString(!0)),"hex4"===t&&(e=this.toHex8String(!0)),"hex8"===t&&(e=this.toHex8String()),"name"===t&&(e=this.toName()),"hsl"===t&&(e=this.toHslString()),"hsv"===t&&(e=this.toHsvString()),e||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return A(this.toString())},_applyModification:function(t,e){var r=t.apply(null,[this].concat([].slice.call(e)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(F,arguments)},brighten:function(){return this._applyModification(R,arguments)},darken:function(){return this._applyModification(H,arguments)},desaturate:function(){return this._applyModification(S,arguments)},saturate:function(){return this._applyModification(C,arguments)},greyscale:function(){return this._applyModification(P,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},complement:function(){return this._applyCombination(M,arguments)},splitcomplement:function(){return this._applyCombination(j,arguments)},triad:function(){return this._applyCombination(N,arguments)},tetrad:function(){return this._applyCombination(O,arguments)}},k.fromRatio=function(t,e){var r,a;if("object"==typeof t){r={};for(a in t)t.hasOwnProperty(a)&&(r[a]="a"===a?t[a]:h(t[a]));t=r}return A(t,e)},k.equals=function(t,e){return!(!t||!e)&&A(t).toRgbString()===A(e).toRgbString()},k.random=function(){return k.fromRatio({r:B(),g:B(),b:B()})},k.mix=function(t,e,r){var a,n,i,o;return r=0===r?0:r||50,a=A(t).toRgb(),n=A(e).toRgb(),i=r/100,o={r:(n.r-a.r)*i+a.r,g:(n.g-a.g)*i+a.g,b:(n.b-a.b)*i+a.b,a:(n.a-a.a)*i+a.a},A(o)},k.readability=function(e,r){var a=A(e),n=A(r);return(t.max(a.getLuminance(),n.getLuminance())+.05)/(t.min(a.getLuminance(),n.getLuminance())+.05)},k.isReadable=function(t,e,r){var a,n,o=k.readability(t,e);switch(n=!1,(a=i(r)).level+a.size){case"AAsmall":case"AAAlarge":n=o>=4.5;break;case"AAlarge":n=o>=3;break;case"AAAsmall":n=o>=7}return n},k.mostReadable=function(t,e,r){var a,n,i,o,s,l=null,c=0;for(n=(r=r||{}).includeFallbackColors,i=r.level,o=r.size,s=0;s<e.length;s+=1)(a=k.readability(t,e[s]))>c&&(c=a,l=A(e[s]));return k.isReadable(t,l,{level:i,size:o})||!n?l:(r.includeFallbackColors=!1,k.mostReadable(t,["#fff","#000"],r))},k.names=$,k.hexNames=K,void 0!==window.module&&window.module.exports?window.module.exports=k:"function"==typeof window.define&&window.define.amd?window.define(function(){return k}):window.tinycolor=k}(Math),function(t){"use strict";"function"==typeof window.define&&window.define.amd?window.define(["jquery"],t):"object"==typeof exports&&"object"==typeof window.module?window.module.exports=t(window.require("jquery")):t(window.jQuery)}(function(t,e){"use strict";function r(e,r,a,n){for(var i=[],o=0;o<e.length;o++){var s=e[o];if(s){var l=d(s),c=l.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=d.equals(r,s)?" sp-thumb-active":"";var f=l.toString(n.preferredFormat||"rgb"),u=m?"background-color:"+l.toRgbString():"filter:"+l.toFilter();i.push('<span title="'+f+'" data-color="'+l.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+u+';"></span></span>')}else{i.push(t("<div />").append(t('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",n.noColorSelectedText)).html())}}return"<div class='sp-cf "+a+"'>"+i.join("")+"</div>"}function a(){for(var t=0;t<g.length;t++)g[t]&&g[t].hide()}function n(e,r){var a=t.extend({},p,e);return a.callbacks={move:c(a.move,r),change:c(a.change,r),show:c(a.show,r),hide:c(a.hide,r),beforeShow:c(a.beforeShow,r)},a}function i(i,s){function c(){if(B.showPaletteOnly&&(B.showPalette=!0),Ot.text(B.showPaletteOnly?B.togglePaletteMoreText:B.togglePaletteLessText),B.palette){ct=B.palette.slice(0),ft=t.isArray(ct[0])?ct:[ct],ut={};for(var e=0;e<ft.length;e++)for(var r=0;r<ft[e].length;r++){var a=d(ft[e][r]).toRgbString();ut[a]=!0}}wt.toggleClass("sp-flat",$),wt.toggleClass("sp-input-disabled",!B.showInput),wt.toggleClass("sp-alpha-enabled",B.showAlpha),wt.toggleClass("sp-clear-enabled",Ut),wt.toggleClass("sp-buttons-disabled",!B.showButtons),wt.toggleClass("sp-palette-buttons-disabled",!B.togglePaletteOnly),wt.toggleClass("sp-palette-disabled",!B.showPalette),wt.toggleClass("sp-palette-only",B.showPaletteOnly),wt.toggleClass("sp-initial-disabled",!B.showInitial),wt.addClass(B.className).addClass(B.containerClassName),D()}function p(){if(V&&window.localStorage){try{var e=window.localStorage[V].split(",#");e.length>1&&(delete window.localStorage[V],t.each(e,function(t,e){y(e)}))}catch(t){}try{ht=window.localStorage[V].split(";")}catch(t){}}}function y(e){if(K){var r=d(e).toRgbString();if(!ut[r]&&-1===t.inArray(r,ht))for(ht.push(r);ht.length>dt;)ht.shift();if(V&&window.localStorage)try{window.localStorage[V]=ht.join(";")}catch(t){}}}function _(){var t=[];if(B.showPalette)for(var e=0;e<ht.length;e++){var r=d(ht[e]).toRgbString();ut[r]||t.push(ht[e])}return t.reverse().slice(0,B.maxSelectionSize)}function x(){var e=O(),a=t.map(ft,function(t,a){return r(t,e,"sp-palette-row sp-palette-row-"+a,B)});p(),ht&&a.push(r(_(),e,"sp-palette-row sp-palette-row-selection",B)),Rt.html(a.join(""))}function k(){if(B.showInitial){var t=Bt,e=O();Ht.html(r([t,e],e,"sp-palette-row-initial",B))}}function A(){(J<=0||Q<=0||tt<=0)&&D(),G=!0,wt.addClass(pt),gt=null,mt.trigger("dragstart.spectrum",[O()])}function S(){G=!1,wt.removeClass(pt),mt.trigger("dragstop.spectrum",[O()])}function C(){var t=Ft.val();if(null!==t&&""!==t||!Ut){var e=d(t);e.isValid()?(N(e),q(),z()):Ft.addClass("sp-validation-error")}else N(null),q(),z()}function P(){Y?T():F()}function F(){var e=t.Event("beforeShow.spectrum");Y?D():(mt.trigger(e,[O()]),!1===W.beforeShow(O())||e.isDefaultPrevented()||(a(),Y=!0,t(bt).on("keydown.spectrum",R),t(bt).on("click.spectrum",H),t(window).on("resize.spectrum",X),It.addClass("sp-active"),wt.removeClass("sp-hidden"),D(),E(),Bt=O(),k(),W.show(Bt),mt.trigger("show.spectrum",[Bt])))}function R(t){27===t.keyCode&&T()}function H(t){2!=t.button&&(G||(Kt?z(!0):M(),T()))}function T(){Y&&!$&&(Y=!1,t(bt).off("keydown.spectrum",R),t(bt).off("click.spectrum",H),t(window).off("resize.spectrum",X),It.removeClass("sp-active"),wt.addClass("sp-hidden"),W.hide(O()),mt.trigger("hide.spectrum",[O()]))}function M(){N(Bt,!0),z(!0)}function N(t,e){if(d.equals(t,O()))E();else{var r,a;!t&&Ut?Vt=!0:(Vt=!1,a=(r=d(t)).toHsv(),it=a.h%360/360,ot=a.s,st=a.v,lt=a.a),E(),r&&r.isValid()&&!e&&($t=B.preferredFormat||r.getFormat())}}function O(t){return t=t||{},Ut&&Vt?null:d.fromRatio({h:it,s:ot,v:st,a:Math.round(1e3*lt)/1e3},{format:t.format||$t})}function j(){return!Ft.hasClass("sp-validation-error")}function q(){E(),W.move(O()),mt.trigger("move.spectrum",[O()])}function E(){Ft.removeClass("sp-validation-error"),I();var t=d.fromRatio({h:it,s:1,v:1});_t.css("background-color",t.toHexString());var e=$t;lt<1&&(0!==lt||"name"!==e)&&("hex"!==e&&"hex3"!==e&&"hex6"!==e&&"name"!==e||(e="rgb"));var r=O({format:e}),a="";if(Dt.removeClass("sp-clear-display"),Dt.css("background-color","transparent"),!r&&Ut)Dt.addClass("sp-clear-display");else{var n=r.toHexString(),i=r.toRgbString();if(m||1===r.alpha?Dt.css("background-color",i):(Dt.css("background-color","transparent"),Dt.css("filter",r.toFilter())),B.showAlpha){var o=r.toRgb();o.a=0;var s=d(o).toRgbString(),l="linear-gradient(left, "+s+", "+n+")";b?St.css("filter",d(s).toFilter({gradientType:1},n)):(St.css("background","-webkit-"+l),St.css("background","-moz-"+l),St.css("background","-ms-"+l),St.css("background","linear-gradient(to right, "+s+", "+n+")"))}a=r.toString(e)}B.showInput&&Ft.val(a),B.showPalette&&x(),k()}function I(){var t=ot,e=st;if(Ut&&Vt)Pt.hide(),At.hide(),xt.hide();else{Pt.show(),At.show(),xt.show();var r=t*Q,a=J-e*J;r=Math.max(-Z,Math.min(Q-Z,r-Z)),a=Math.max(-Z,Math.min(J-Z,a-Z)),xt.css({top:a+"px",left:r+"px"});var n=lt*rt;Pt.css({left:n-at/2+"px"});var i=it*tt;At.css({top:i-nt+"px"})}}function z(t){var e=O(),r="",a=!d.equals(e,Bt);e&&(r=e.toString($t),y(e)),jt&&mt.val(r),t&&a&&(W.change(e),mt.trigger("change",[e]))}function D(){Y&&(Q=_t.width(),J=_t.height(),Z=xt.height(),et=kt.width(),tt=kt.height(),nt=At.height(),rt=Ct.width(),at=Pt.width(),$||(wt.css("position","absolute"),B.offset?wt.offset(B.offset):wt.offset(o(wt,zt))),I(),B.showPalette&&x(),mt.trigger("reflow.spectrum"))}function L(){T(),vt=!0,mt.attr("disabled",!0),zt.addClass("sp-disabled")}var B=n(s,i),$=B.flat,K=B.showSelectionPalette,V=B.localStorageKey,U=B.theme,W=B.callbacks,X=u(D,10),Y=!1,G=!1,Q=0,J=0,Z=0,tt=0,et=0,rt=0,at=0,nt=0,it=0,ot=0,st=0,lt=1,ct=[],ft=[],ut={},ht=B.selectionPalette.slice(0),dt=B.maxSelectionSize,pt="sp-dragging",gt=null,bt=i.ownerDocument,mt=t(i),vt=!1,wt=t(w,bt).addClass(U),yt=wt.find(".sp-picker-container"),_t=wt.find(".sp-color"),xt=wt.find(".sp-dragger"),kt=wt.find(".sp-hue"),At=wt.find(".sp-slider"),St=wt.find(".sp-alpha-inner"),Ct=wt.find(".sp-alpha"),Pt=wt.find(".sp-alpha-handle"),Ft=wt.find(".sp-input"),Rt=wt.find(".sp-palette"),Ht=wt.find(".sp-initial"),Tt=wt.find(".sp-cancel"),Mt=wt.find(".sp-clear"),Nt=wt.find(".sp-choose"),Ot=wt.find(".sp-palette-toggle"),jt=mt.is("input"),qt=jt&&"color"===mt.attr("type")&&h(),Et=jt&&!$,It=Et?t(v).addClass(U).addClass(B.className).addClass(B.replacerClassName):t([]),zt=Et?It:mt,Dt=It.find(".sp-preview-inner"),Lt=B.color||jt&&mt.val(),Bt=!1,$t=B.preferredFormat,Kt=!B.showButtons||B.clickoutFiresChange,Vt=!Lt,Ut=B.allowEmpty&&!qt;!function(){function e(e){return e.data&&e.data.ignore?(N(t(e.target).closest(".sp-thumb-el").data("color")),q()):(N(t(e.target).closest(".sp-thumb-el").data("color")),q(),B.hideAfterPaletteSelect?(z(!0),T()):z()),!1}if(b&&wt.find("*:not(input)").attr("unselectable","on"),c(),Et&&mt.after(It).hide(),Ut||Mt.hide(),$)mt.after(wt).hide();else{var r="parent"===B.appendTo?mt.parent():t(B.appendTo);1!==r.length&&(r=t("body")),r.append(wt)}p(),zt.on("click.spectrum touchstart.spectrum",function(e){vt||P(),e.stopPropagation(),t(e.target).is("input")||e.preventDefault()}),(mt.is(":disabled")||!0===B.disabled)&&L(),wt.click(l),Ft.change(C),Ft.on("paste",function(){setTimeout(C,1)}),Ft.keydown(function(t){13==t.keyCode&&C()}),Tt.text(B.cancelText),Tt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),M(),T()}),Mt.attr("title",B.clearText),Mt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),Vt=!0,q(),$&&z(!0)}),Nt.text(B.chooseText),Nt.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),b&&Ft.is(":focus")&&Ft.trigger("change"),j()&&(z(!0),T())}),Ot.text(B.showPaletteOnly?B.togglePaletteMoreText:B.togglePaletteLessText),Ot.on("click.spectrum",function(t){t.stopPropagation(),t.preventDefault(),B.showPaletteOnly=!B.showPaletteOnly,B.showPaletteOnly||$||wt.css("left","-="+(yt.outerWidth(!0)+5)),c()}),f(Ct,function(t,e,r){lt=t/rt,Vt=!1,r.shiftKey&&(lt=Math.round(10*lt)/10),q()},A,S),f(kt,function(t,e){it=parseFloat(e/tt),Vt=!1,B.showAlpha||(lt=1),q()},A,S),f(_t,function(t,e,r){if(r.shiftKey){if(!gt){var a=ot*Q,n=J-st*J,i=Math.abs(t-a)>Math.abs(e-n);gt=i?"x":"y"}}else gt=null;var o=!gt||"x"===gt,s=!gt||"y"===gt;o&&(ot=parseFloat(t/Q)),s&&(st=parseFloat((J-e)/J)),Vt=!1,B.showAlpha||(lt=1),q()},A,S),Lt?(N(Lt),E(),$t=B.preferredFormat||d(Lt).format,y(Lt)):E(),$&&F();var a=b?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Rt.on(a,".sp-thumb-el",e),Ht.on(a,".sp-thumb-el:nth-child(1)",{ignore:!0},e)}();var Wt={show:F,hide:T,toggle:P,reflow:D,option:function(r,a){return r===e?t.extend({},B):a===e?B[r]:(B[r]=a,"preferredFormat"===r&&($t=B.preferredFormat),void c())},enable:function(){vt=!1,mt.attr("disabled",!1),zt.removeClass("sp-disabled")},disable:L,offset:function(t){B.offset=t,D()},set:function(t){N(t),z()},get:O,destroy:function(){mt.show(),zt.off("click.spectrum touchstart.spectrum"),wt.remove(),It.remove(),g[Wt.id]=null},container:wt};return Wt.id=g.push(Wt)-1,Wt}function o(e,r){var a=e.outerWidth(),n=e.outerHeight(),i=r.outerHeight(),o=e[0].ownerDocument,s=o.documentElement,l=s.clientWidth+t(o).scrollLeft(),c=s.clientHeight+t(o).scrollTop(),f=r.offset(),u=f.left,h=f.top;return h+=i,u-=Math.min(u,u+a>l&&l>a?Math.abs(u+a-l):0),h-=Math.min(h,h+n>c&&c>n?Math.abs(n+i-0):0),{top:h,bottom:f.bottom,left:u,right:f.right,width:f.width,height:f.height}}function s(){}function l(t){t.stopPropagation()}function c(t,e){var r=Array.prototype.slice,a=r.call(arguments,2);return function(){return t.apply(e,a.concat(r.call(arguments)))}}function f(e,r,a,n){function i(t){t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.returnValue=!1}function o(t){if(c){if(b&&l.documentMode<9&&!t.button)return s();var a=t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches[0],n=a&&a.pageX||t.pageX,o=a&&a.pageY||t.pageY,p=Math.max(0,Math.min(n-f.left,h)),g=Math.max(0,Math.min(o-f.top,u));d&&i(t),r.apply(e,[p,g,t])}}function s(){c&&(t(l).off(p),t(l.body).removeClass("sp-dragging"),setTimeout(function(){n.apply(e,arguments)},0)),c=!1}r=r||function(){},a=a||function(){},n=n||function(){};var l=document,c=!1,f={},u=0,h=0,d="ontouchstart"in window,p={};p.selectstart=i,p.dragstart=i,p["touchmove mousemove"]=o,p["touchend mouseup"]=s,t(e).on("touchstart mousedown",function(r){(r.which?3==r.which:2==r.button)||c||!1!==a.apply(e,arguments)&&(c=!0,u=t(e).height(),h=t(e).width(),f=t(e).offset(),t(l).on(p),t(l.body).addClass("sp-dragging"),o(r),i(r))})}function u(t,e,r){var a;return function(){var n=this,i=arguments;r&&clearTimeout(a),!r&&a||(a=setTimeout(function(){a=null,t.apply(n,i)},e))}}function h(){return t.fn.spectrum.inputTypeColorSupport()}var d=window.tinycolor,p={beforeShow:s,move:s,change:s,show:s,hide:s,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},g=[],b=!!/msie/i.exec(window.navigator.userAgent),m=function(){function t(t,e){return 1!==(""+t).indexOf(e)}var e=document.createElement("div").style;return e.cssText="background-color:rgba(0,0,0,.5)",t(e.backgroundColor,"rgba")||t(e.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),w=function(){var t="";if(b)for(var e=1;e<=6;e++)t+="<div class='sp-"+e+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",t,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}();t.fn.spectrum=function(e,r){if("string"==typeof e){var a=this,n=Array.prototype.slice.call(arguments,1);return this.each(function(){var r=g[t(this).data("spectrum.id")];if(r){var i=r[e];if(!i)throw new Error("Spectrum: no such method: '"+e+"'");"get"==e?a=r.get():"container"==e?a=r.container:"option"==e?a=r.option.apply(r,n):"destroy"==e?(r.destroy(),t(this).removeData("spectrum.id")):i.apply(r,n)}}),a}return this.spectrum("destroy").each(function(){var r=i(this,t.extend({},t(this).data(),e));t(this).data("spectrum.id",r.id)})},t.fn.spectrum.load=!0,t.fn.spectrum.loadOpts={},t.fn.spectrum.draggable=f,t.fn.spectrum.defaults=p,t.fn.spectrum.inputTypeColorSupport=function e(){if(void 0===e._cachedResult){var r=t("<input type='color'/>")[0];e._cachedResult="color"===r.type&&""!==r.value}return e._cachedResult},t.spectrum={},t.spectrum.localization={},t.spectrum.palettes={},t.fn.spectrum.processNativeColorInputs=function(){var e=t("input[type=color]");e.length&&!h()&&e.spectrum({preferredFormat:"hex6"})},t(function(){t.fn.spectrum.load&&t.fn.spectrum.processNativeColorInputs()})});