!function(C){C.fn.yith_trigger_multiple=function(i){return this.each(function(){var t=C(this);C.each(i,function(i,e){t.trigger(e)})})};var q=C("body"),x=C("html"),i=C(yith_wcms.dom.login),O=C(yith_wcms.dom.billing),I=C(yith_wcms.dom.shipping),R=C(yith_wcms.dom.order),e=C(yith_wcms.dom.payment),A=C(yith_wcms.dom.form_actions),U=C(yith_wcms.dom.coupon),H=C(yith_wcms.dom.create_account),j=C(yith_wcms.dom.create_account_wrapper),z=(C(yith_wcms.dom.account_password),C(yith_wcms.dom.shipping_check)),E=C(yith_wcms.dom.button_back_to_cart),Q={login:i,billing:O,shipping:I,order:R,payment:e},_=q.hasClass("logged-in"),t="yith_wcms_checkout_form",T="yith_wcms_checkout_current_step",r=function(i){return yith_wcms.steps_timeline[i]},$=function(t,i,e){return 0==i.length||i.is(":checked")||0==t||(t-=e.find(".validate-required").length,yith_wcms.wp_gdpr.is_enabled&&1==yith_wcms.wp_gdpr.add_consent_on_checkout&&(t=invalid_field+yith_wcms.wp_gdpr.consents_number)),0!=i.length&&i.is(":checked")&&yith_wcms.wp_gdpr.is_enabled&&1==yith_wcms.wp_gdpr.add_consent_on_checkout&&C.each(yith_wcms.wp_gdpr.consents,function(i,e){consent="#user_consents_"+i,C(consent).is(":checked")||(t+=1)}),t};q.on("updated_checkout yith_wcms_myaccount_order_pay",function(i){"updated_checkout"==i.type&&(Q.payment=C(yith_wcms.dom.payment)),"payment"==A.data("step")&&C(yith_wcms.dom.payment).show(),q.trigger("yith_wcms_updated_checkout")}),q.hasClass("woocommerce-order-pay")&&q.trigger("yith_wcms_myaccount_order_pay"),"yes"==yith_wcms.live_fields_validation&&(C(yith_wcms.dom.checkout_form),q.on("blur","input:radio",function(){var i,e=C(this),t=e.closest(".form-row"),o=!0;t.is(".validate-required")&&("radio"==e.attr("type")&&(i=e.attr("name"),C("input[name="+i+"]").is(":checked")||(t.removeClass("woocommerce-validated").addClass("woocommerce-invalid woocommerce-invalid-required-field"),o=!1)),o&&t.removeClass("woocommerce-invalid woocommerce-invalid-required-field").addClass("woocommerce-validated"))})),q.on("yith_wcms_select2",function(i){var e;C().select2&&((e=function(){C("select.country_select, select.state_select").each(function(){var i={placeholder:C(this).attr("placeholder"),placeholderOption:"first",width:"100%"};C(this).select2(i)})})(),q.bind("country_to_state_changed",function(){e()}))}),1!=yith_wcms.wc_shipping_multiple&&q.trigger("yith_wcms_select2"),C(".yith-wcms-pro "+yith_wcms.dom.checkout_timeline+" li").on("click",function(i){var e=C(this);if(e.hasClass("active"))return!1;var t=C(yith_wcms.dom.checkout_timeline).find(yith_wcms.dom.active_timeline).data("step"),o=e.data("step"),n=r(o),c=!1!==n.prev?r(n.prev):r(n.next),d=c.next,s=c.prev,a=null;if(d==o?a=A.find(yith_wcms.dom.button_next):s==o&&(a=A.find(yith_wcms.dom.button_prev)),"login"==t&&_||null==a)return!1;m(a,t,d,s)}),A.find(yith_wcms.dom.button_prev).add(yith_wcms.dom.button_next).on("click",function(i){var e=C(this),t=A.data("step"),o=r(t),n=o.next,c=o.prev;m(e,t,n,c)});var m=function(i,e,t,o){var n,c,d=C(yith_wcms.dom.checkout_timeline),s=i.data("action"),a=A.find(yith_wcms.dom.button_prev),_=A.find(yith_wcms.dom.button_next),r=d.find(".active").data("step"),m=C(yith_wcms.dom.checkout_form);"prev"==s&&_.removeClass("disabled").removeAttr("disabled"),"yes"==yith_wcms.is_scroll_top_enabled&&(c=(n=C(yith_wcms.dom.scroll_top_anchor)).offset().top-n.outerHeight(!0),x.add(q).animate({scrollTop:c},500));var l=function(i){"order"==i||C(document).triggerHandler("yith_wmcs_show_coupon",i)?U.fadeIn(yith_wcms.transition_duration):U.fadeOut(yith_wcms.transition_duration)};if("yes"==yith_wcms.live_fields_validation){var h="login"==r||"billing"==r||"shipping"==r;if(yith_wcms.is_delivery_date_enabled&&(h=h||"order"==r),h&&"next"==s){var u,y,w,p,f,v,m=C(yith_wcms.dom.checkout_form),g=0;if(("billing"==r||"shipping"==r||yith_wcms.is_delivery_date_enabled&&"order"==r)&&m.find(yith_wcms.dom.required_fields_check).yith_trigger_multiple(yith_wcms.validate_checkout_event),"billing"==r||"login"==r?(!yith_wcms.is_coupon_email_system_enabled||void 0!==(u=C(yith_wcms.dom.day_of_birth))&&(y=u.attr("pattern"),w=new RegExp("^"+y+"$","g"),""!=(p=u.val())&&0==w.test(p)&&u.parent().removeClass("woocommerce-validated").addClass("woocommerce-invalid-required-field").addClass("woocommerce-invalid")),void 0!==(f=C(yith_wcms.dom.email))&&f.hasClass("woocommerce-invalid-email")&&f.addClass("woocommerce-invalid-required-field"),g=O.find(yith_wcms.dom.wc_invalid_required).not(".ywsfd-validate-required").length,g=$(g,H,j)):"shipping"==r?((0!=(v=z.length)&&z.is(":checked")||0==v&&I.find("input").length)&&(g=I.find(yith_wcms.dom.wc_invalid_required).not(".ywsfd-validate-required").length),yith_wcms.is_wc_checkout_addons_enabled&&(g+=C(yith_wcms.dom.wc_checkout_addons).find(yith_wcms.dom.wc_invalid_required).length),g+=I.find(yith_wcms.dom.additional_fields).find(">"+yith_wcms.dom.wc_invalid_required).length):yith_wcms.is_delivery_date_enabled&&"order"==r&&(g=R.find(yith_wcms.dom.wc_invalid_required).length),0!=g){if("login"!=r)return _.addClass("disabled").attr("disabled",!0),!1;t="billing"}}}d.find(".active").removeClass("active"),"next"==s?(A.data("step",t),Q[e].fadeOut(yith_wcms.transition_duration,function(){Q[t].fadeIn(yith_wcms.transition_duration),l(t)}),C(yith_wcms.dom.timeline_id_prefix+t).toggleClass("active")):"prev"==s&&(A.data("step",o),Q[e].fadeOut(yith_wcms.transition_duration,function(){Q[o].fadeIn(yith_wcms.transition_duration)}),l(o),C(yith_wcms.dom.timeline_id_prefix+o).toggleClass("active")),e=A.data("step"),1==yith_wcms.use_cookie&&Cookies.set(T,e,{path:"/"}),!0==("prev"==s&&!1===yith_wcms.steps_timeline[o][s]&&"login"==o)?_.val(yith_wcms.skip_login_label):_.val(yith_wcms.next_label);var k=!1,b=!1;"next"==s&&!1===yith_wcms.steps_timeline[t][s]&&(b=!0),"prev"==s&&!1===yith_wcms.steps_timeline[o][s]&&(k=!0),!0===k?a.fadeOut(yith_wcms.transition_duration):a.fadeIn(yith_wcms.transition_duration),!0===b?_.fadeOut(yith_wcms.transition_duration):_.fadeIn(yith_wcms.transition_duration),"payment"==e?(m.removeClass("processing"),"yes"==yith_wcms.disabled_prev_button&&a.fadeOut(yith_wcms.transition_duration),"yes"==yith_wcms.disabled_back_to_cart_button&&E.fadeOut(yith_wcms.transition_duration)):(m.addClass("processing"),"yes"==yith_wcms.disabled_back_to_cart_button&&E.fadeIn(yith_wcms.transition_duration))},o=A.find(yith_wcms.dom.button_next);O.find(".validate-required").find("input").add(H).on("blur click change",function(i){var e=O.find(yith_wcms.dom.wc_invalid_required).length;0!=(e=$(e,H,j))?o.addClass("disabled").attr("disabled",!0):o.removeClass("disabled").removeAttr("disabled")}),I.find(".validate-required").find("input").add(z).on("blur click change",function(i){z.is(":checked")&&0!=I.find(yith_wcms.dom.wc_invalid_required).length?o.addClass("disabled").attr("disabled",!0):o.removeClass("disabled").removeAttr("disabled")});var n=Cookies.get(t),c=(Cookies.get(T),function(){var i=C(".checkout.woocommerce-checkout").serialize();Cookies.set(t,i,{path:"/"})}),d=function(){z.find("input").on("change",function(i){c()}),C(yith_wcms.dom.checkout_form).find(yith_wcms.dom.required_fields_check).on("blur change",function(i){c()})};1==yith_wcms.use_cookie&&(d(),function(i){if(void 0!==i){var e=i.split("&");for(var t in e){var o,n,c,d,s,a,_=e[t];"string"==typeof _&&(o=_.split("="),n=decodeURIComponent('input[name="'+o[0]+'"]'),void 0!==(c=C(n))&&(d=decodeURIComponent(o[1]).replace(/\+/g," "),-1!=yith_wcms.dom.select2_fields.indexOf(o[0])?((s=C("#"+decodeURIComponent(o[0]))).add(c).val(d),s.is("select")?s.val(d).trigger("change"):s.is("input")&&c.val(d)):(a=!1,-1!=o[0].indexOf("payment_method")&&1==yith_wcms.skip_payment_method&&(a=!0),-1!=o[0].indexOf("shipping_method")&&1==yith_wcms.skip_shipping_method&&(a=!0),-1==o[0].indexOf("_wp")&&d&&0==a&&("checkbox"==c.prop("type")&&1==d?c.prop("checked","checked"):c.val(d)))))}}}(n),q.on("country_to_state_changed",function(i,e,t){d()})),void 0!==Cookies.get(T)&&1==yith_wcms.use_cookie&&q.on("updated_checkout yith_wcms_myaccount_order_pay",function(){C(".yith-wcms-pro "+yith_wcms.dom.checkout_timeline+" li#timeline-"+Cookies.get(T)).trigger("click")}),1==yith_wcms.is_order_received_endpoint&&1==yith_wcms.use_cookie&&(Cookies.remove(t,{path:"/"}),Cookies.remove(T,{path:"/"}))}(jQuery);