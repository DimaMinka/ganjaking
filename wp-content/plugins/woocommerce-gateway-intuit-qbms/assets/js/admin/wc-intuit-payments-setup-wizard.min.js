"use strict";intuit.ipp.anywhere.setup({grantUrl:wc_intuit_payments.connect_url,datasources:{quickbooks:!1,payments:!0},paymentOptions:{intuitReferred:!0}}),jQuery(document).ready(function(i){var e,o=i("#wc_gateway_"+wc_intuit_payments.gateway_id+"_client_id"),s=i("#wc_gateway_"+wc_intuit_payments.gateway_id+"_client_secret");o.length&&s.length&&(e=o.closest("form"),window.onQuickBooksConnectionFailed=function(t){e.find("h1, .wc-intuit-payments-setup-connection-settings, .wc-setup-actions").hide(),t?(t.endsWith(".")&&(t=t.substring(0,t.length-1)),e.find(".wc-intuit-payments-connection-error-with-message").show().find("span").text(t)):e.find(".wc-intuit-payments-connection-error").show(),e.find(".wc-intuit-payments-setup-connection-suggestions").show()},window.onQuickBooksSuccessfulConnection=function(){window.location.href=e.find(".button-next").attr("href")},e.on("keypress keyup change","#"+o.attr("id")+", #"+s.attr("id"),function(){var t=i(this),n=t.closest(".form-row"),e=t.val();""===e?(n.addClass("woocommerce-invalid"),i('label[for="'+t.attr("id")+'"].wc-intuit-payments-error-message-empty').show()):e.match(/^[a-zA-Z0-9]{10,}$/)?(n.removeClass("woocommerce-invalid"),i('label[for="'+t.attr("id")+'"].wc-intuit-payments-error-message').hide()):(n.addClass("woocommerce-invalid"),i('label[for="'+t.attr("id")+'"].wc-intuit-payments-error-message-invalid').show())}),e.on("click",".button-next",function(t){var n;t.preventDefault(),o.add(s).trigger("change"),o.closest(".form-row").hasClass("woocommerce-invalid")||s.closest(".form-row").hasClass("woocommerce-invalid")?e.find(".woocommerce-invalid input").first().focus():(n={action:"wc_intuit_payments_update_connection_settings",nonce:wc_intuit_payments.update_connection_settings_nonce,gateway_id:wc_intuit_payments.gateway_id,client_id:o.val(),client_secret:s.val()},i.post(wc_intuit_payments.ajaxurl,n,function(t){t.success?intuit.ipp.anywhere.controller.onConnectToIntuitClicked(e.find(".button-next").get(0)):onQuickBooksConnectionFailed(t.data)}))}))});